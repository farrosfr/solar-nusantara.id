---
import { Image } from 'astro:assets';
import logo from '../assets/logo.png';

const navLinks = [
  { href: "/", text: "Beranda" },
  { href: "/tentang", text: "Tentang Kami" },
  { href: "/layanan", text: "Layanan" },
  { href: "/produk", text: "Produk" },
  { href: "/pintar", text: "Pintar" },
  { href: "/kontak", text: "Kontak" },
  { href: "/berita", text: "Berita" },
];
---

<div class="lg:hidden flex w-full items-center justify-between bg-white h-20 px-4 sticky top-0 z-50">
  <a href="/">
    <Image src={logo} alt="Solar Nusantara Logo" width={120} />
  </a>
  <button id="menu-toggle" aria-label="Open menu" class="z-50">
    <svg id="hamburger-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-800" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
    </svg>
    <svg id="close-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-800 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
    </svg>
  </button>
</div>

<div id="mobile-menu" class="fixed inset-0 bg-white z-40 transform -translate-x-full transition-transform duration-300 ease-in-out lg:hidden">
  <nav class="flex flex-col items-center justify-center h-full">
    <ul class="flex flex-col space-y-8 text-center">
      {navLinks.map(link => (
        <li>
          <a href={link.href} class="text-2xl font-semibold text-gray-800 hover:text-blue-600">{link.text}</a>
        </li>
      ))}
    </ul>
  </nav>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    const body = document.body;
    const hamburgerIcon = document.getElementById('hamburger-icon');
    const closeIcon = document.getElementById('close-icon');

    if (menuToggle && mobileMenu && hamburgerIcon && closeIcon) {
      menuToggle.addEventListener('click', () => {
        mobileMenu.classList.toggle('-translate-x-full');
        body.classList.toggle('overflow-hidden');
        hamburgerIcon.classList.toggle('hidden');
        closeIcon.classList.toggle('hidden');
      });
    }
  });
</script>
